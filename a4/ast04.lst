     1                                 %line 1+1 ast04.asm
     2                                 
     3                                 
     4                                 
     5                                 
     6                                 
     7                                 
     8                                 
     9                                 
    10                                 
    11                                 [section .data]
    12                                 
    13                                 
    14                                 
    15                                 
    16                                 NULL equ 0
    17                                 
    18                                 TRUE equ 1
    19                                 FALSE equ 0
    20                                 
    21                                 EXIT_SUCCESS equ 0
    22                                 
    23                                 SYS_exit equ 60
    24                                 
    25                                 
    26                                 
    27 00000000 DE0400005C04000006-    lst dd 1246, 1116, 1542, 1240, 1677
    28 00000000 060000D80400008D06-
    29 00000000 0000               
    30 00000014 630600007A0900001C-     dd 1635, 2426, 1820, 1246, -2333
    31 00000014 070000DE040000E3F6-
    32 00000014 FFFF               
    33 00000028 0D090000A5FBFFFFA6-     dd 2317, -1115, 2726, 2140, 2565
    34 00000028 0A00005C080000050A-
    35 00000028 0000               
    36 0000003C 370B00004E06000072-     dd 2871, 1614, 2418, 2513, 1422
    37 0000003C 090000D10900008E05-
    38 0000003C 0000               
    39 00000050 B9F7FFFFBF0400000B-     dd -2119, 1215, -1525, -1712, 1441
    40 00000050 FAFFFF50F9FFFFA105-
    41 00000050 0000               
    42 00000064 DAF1FFFF25FDFFFF3F-     dd -3622, -731, -1729, 1615, 1724
    43 00000064 F9FFFF4F060000BC06-
    44 00000064 0000               
    45 00000078 C104000038FBFFFF2C-     dd 1217, -1224, 1580, 1147, 2324
    46 00000078 0600007B0400001409-
    47 00000078 0000               
    48 0000008C 9105000018070000EE-     dd 1425, 1816, 1262, -2718, 2192
    49 0000008C 04000062F5FFFF9008-
    50 0000008C 0000               
    51 000000A0 68FAFFFFD3040000CC-     dd -1432, 1235, 2764, -1615, 1310
    52 000000A0 0A0000B1F9FFFF1E05-
    53 000000A0 0000               
    54 000000B4 E5060000A207000039-     dd 1765, 1954, -967, 1515, 3556
    55 000000B4 FCFFFFEB050000E40D-
    56 000000B4 0000               
    57 000000C8 3E050000991C000014-     dd 1342, 7321, 1556, 2727, 1227
    58 000000C8 060000A70A0000CB04-
    59 000000C8 0000               
    60 000000DC 79F8FFFF66050000B9-     dd -1927, 1382, 1465, 3955, 1435
    61 000000DC 050000730F00009B05-
    62 000000DC 0000               
    63 000000F0 37FBFFFF8DF6FFFF1A-     dd -1225, -2419, -2534, -1345, 2467
    64 000000F0 F6FFFFBFFAFFFFA309-
    65 000000F0 0000               
    66 00000104 23050000A907000037-     dd 1315, 1961, 1335, 2856, 2553
    67 00000104 050000280B0000F909-
    68 00000104 0000               
    69 00000118 F8FBFFFF2B070000B8-     dd -1032, 1835, 1464, 1915, -1810
    70 00000118 0500007B070000EEF8-
    71 00000118 FFFF               
    72 0000012C B9050000120600000D-     dd 1465, 1554, -1267, 1615, 1656
    73 0000012C FBFFFF4F0600007806-
    74 0000012C 0000               
    75 00000140 90080000DFF8FFFF85-     dd 2192, -1825, 1925, 2312, 1725
    76 00000140 07000008090000BD06-
    77 00000140 0000               
    78 00000154 2BF6FFFFDA05000073-     dd -2517, 1498, -1677, 1475, 2034
    79 00000154 F9FFFFC3050000F207-
    80 00000154 0000               
    81 00000168 C70400005B0700006B-     dd 1223, 1883, -1173, 1350, 1415
    82 00000168 FBFFFF460500008705-
    83 00000168 0000               
    84 0000017C 4F010000650400005E-     dd 335, 1125, 1118, 1713, 3025
    85 0000017C 040000B1060000D10B-
    86 0000017C 0000               
    87 00000190 64000000               len dd 100
    88                                 
    89 00000194 00000000               lstMin dd 0
    90 00000198 00000000               lstMid dd 0
    91 0000019C 00000000               lstMax dd 0
    92 000001A0 00000000               lstSum dd 0
    93 000001A4 00000000               lstAve dd 0
    94                                 
    95 000001A8 00000000               posCnt dd 0
    96 000001AC 00000000               posSum dd 0
    97 000001B0 00000000               posAve dd 0
    98                                 
    99 000001B4 00000000               threeCnt dd 0
   100 000001B8 00000000               threeSum dd 0
   101 000001BC 00000000               threeAve dd 0
   102                                 
   103                                 
   104                                 
   105                                 
   106                                 [section .text]
   107                                 [global _start]
   108                                 _start:
   109                                 
   110                                 
   111                                 
   112                                 
   113                                 
   114 00000000 8B0425[00000000]        mov eax, dword [lst]
   115 00000007 890425[00000000]        mov dword [lstMin], eax
   116 0000000E 890425[00000000]        mov dword [lstMax], eax
   117 00000015 C70425[00000000]00-     mov dword [lstSum], 0
   118 00000015 000000             
   119 00000020 48C7C3[00000000]        mov rbx, lst
   120 00000027 48C7C100000000          mov rcx, 0
   121 0000002E 8B0C25[00000000]        mov ecx, dword [len]
   122                                 
   123                                 calcLp:
   124 00000035 8B03                    mov eax, dword [rbx]
   125 00000037 010425[00000000]        add dword [lstSum], eax
   126 0000003E 3B0425[00000000]        cmp eax, dword[lstMin]
   127 00000045 7D05                    jge minDone
   128 00000047 890425[00000000]        mov dword[lstMin], eax
   129                                 
   130                                 minDone:
   131 0000004E 3B0425[00000000]        cmp eax, dword [lstMax]
   132 00000055 7E05                    jle maxDone
   133 00000057 890425[00000000]        mov dword [lstMax], eax
   134                                 
   135                                 maxDone:
   136 0000005E 83F800                  cmp eax, 0
   137 00000061 7C0C                    jl posDone
   138 00000063 FF0425[00000000]        inc dword [posCnt]
   139 0000006A 010425[00000000]        add dword [posSum], eax
   140                                 
   141                                 posDone:
   142 00000071 4989C1                  mov r9, rax
   143 00000074 49C7C003000000          mov r8, 3
   144 0000007B 99                      cdq
   145 0000007C 41F7F8                  idiv r8d
   146 0000007F 83FA00                  cmp edx, 0
   147 00000082 750D                    jne threeDone
   148 00000084 FF0425[00000000]        inc dword [threeCnt]
   149 0000008B 44010C25[00000000]      add dword [threeSum], r9d
   150                                 
   151                                 threeDone:
   152 00000093 4883C304                add rbx, 4
   153 00000097 48FFC9                  dec rcx
   154 0000009A 4883F900                cmp rcx, 0
   155 0000009E 7593                    jne calcLp
   156                                 
   157                                 
   158 000000A0 8B0425[00000000]        mov eax, dword [lstSum]
   159 000000A7 99                      cdq
   160 000000A8 F73C25[00000000]        idiv dword [len]
   161 000000AF 890425[00000000]        mov dword [lstAve], eax
   162                                 
   163                                 
   164 000000B6 8B0425[00000000]        mov eax, dword [posSum]
   165 000000BD 99                      cdq
   166 000000BE F73C25[00000000]        idiv dword [posCnt]
   167 000000C5 890425[00000000]        mov dword [posAve], eax
   168                                 
   169                                 
   170 000000CC 8B0425[00000000]        mov eax, dword [threeSum]
   171 000000D3 99                      cdq
   172 000000D4 F73C25[00000000]        idiv dword [threeCnt]
   173 000000DB 890425[00000000]        mov dword [threeAve], eax
   174                                 
   175                                 
   176 000000E2 49C7C002000000          mov r8, 2
   177 000000E9 48C7C200000000          mov rdx, 0
   178 000000F0 8B0425[00000000]        mov eax, dword [len]
   179 000000F7 41F7F0                  div r8d
   180                                 
   181 000000FA 4883FA00                cmp rdx, 0
   182 000000FE 7522                    jne oddLen
   183                                 
   184                                 
   185 00000100 67448B0C85[00000000]      mov r9d, dword [lst+eax*4]
   186 00000109 FFC8                    dec eax
   187 0000010B 6744030C85[00000000]      add r9d, dword [lst+eax*4]
   188 00000114 4489C8                  mov eax, r9d
   189 00000117 99                      cdq
   190 00000118 41F7F8                  idiv r8d
   191 0000011B 890425[00000000]        mov dword [lstMid], eax
   192 00000122 EB11                    jmp midDone
   193                                 
   194                                 oddLen:
   195 00000124 FFC0                    inc eax
   196 00000126 67448B0C85[00000000]      mov r9d, dword [lst+eax*4]
   197 0000012F 44890C25[00000000]      mov dword [lstMid], r9d
   198                                 
   199                                 midDone:
   200                                 
   201                                 
   202                                 
   203                                 
   204                                 
   205                                 
   206                                 
   207                                 last:
   208 00000137 48C7C03C000000          mov rax, SYS_exit
   209 0000013E 48C7C700000000          mov rdi, EXIT_SUCCESS
   210 00000145 0F05                    syscall
